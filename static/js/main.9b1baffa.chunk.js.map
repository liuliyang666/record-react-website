{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","views/Money/CategorySection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","data-x","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","getName","tag","filter","t","addTag","tagName","prompt","findTag","updateTag","findTagIndex","result","i","deleteTag","section","TagsSection","selectedTagIds","value","key","onClick","tagId","indexOf","onChange","CategorySection","categoryMap","categoryList","category","c","Label","label","Input","NoteSection","note","type","target","placeholder","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormData","CategoryWrapper","Money","selected","setSelected","obj","Item","Header","h3","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","Center","Space","TagList","ol","Tags","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById","documentElement","clientWidth"],"mappings":"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","file":"static/js/main.9b1baffa.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 40,\n\t\"./left.svg\": 41,\n\t\"./money.svg\": 42,\n\t\"./right.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><path d=\\\"M875.52 151.552h-2.048C802.816 80.896 709.12 37.888 609.28 31.232v399.36H998.4c-4.096-104.96-48.128-204.8-122.88-279.04z\\\" /><path d=\\\"M537.6 39.424h-29.184c-264.192 0-478.72 214.016-478.72 478.208 0 264.704 214.528 478.72 478.72 478.72 261.632 1.024 475.136-208.896 478.72-470.528V496.64H537.6V39.424zm389.12 518.144c-8.704 99.84-52.736 194.048-124.928 264.192h-2.048c-77.824 76.288-182.272 118.784-291.328 118.784-232.448 0-420.352-187.904-420.352-420.352C86.528 299.008 258.048 114.176 479.232 99.84v457.728H926.72z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><path d=\\\"M258.3 537.2l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6L355.9 512l360-281.1c3.9-3 6.1-7.7 6.1-12.6V141c0-6.7-7.7-10.4-12.9-6.3L258.3 486.8c-16.4 12.8-16.4 37.6 0 50.4z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><path d=\\\"M547.971 547.97h182.66c20.178 0 36.53 16.353 36.53 36.53 0 20.169-16.362 36.53-36.53 36.53h-182.66v182.661c0 20.178-16.352 36.53-36.53 36.53-20.168 0-36.53-16.352-36.53-36.53v-182.66H292.25c-20.178 0-36.53-16.352-36.53-36.53s16.352-36.53 36.53-36.53h182.66v-73.06H328.78c-20.168 0-36.53-16.353-36.53-36.53 0-20.168 16.352-36.53 36.53-36.53h94.476l-88.183-88.194a36.536 36.536 0 01-9.97-35.521 36.55 36.55 0 0126.092-26.092 36.547 36.547 0 0135.521 9.96l124.714 124.713 124.724-124.714a36.549 36.549 0 0135.53-9.959 36.533 36.533 0 0126.092 26.092 36.508 36.508 0 01-9.959 35.52l-88.184 88.194h94.467c20.178 0 36.53 16.353 36.53 36.53s-16.352 36.53-36.53 36.53h-146.13v73.06zm-36.53 474.911C228.98 1022.881 0 793.901 0 511.441S228.98 0 511.44 0s511.44 228.98 511.44 511.44-228.979 511.441-511.44 511.441zm0-73.07c242.095 0 438.38-196.285 438.38-438.38 0-242.086-196.285-438.38-438.38-438.38-242.085 0-438.38 196.284-438.38 438.38s196.285 438.38 438.38 438.38zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format(\\\"truetype\\\")}</style></defs><path d=\\\"M765.7 486.8L314.9 134.7c-5.3-4.1-12.9-.4-12.9 6.3v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1c16.4-12.8 16.4-37.6 0-50.4z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><path d=\\\"M867.388 0H30.118v831.247h837.27V0zm-54.212 764.988H84.33V66.258h728.847v698.73zm180.706-548.14V1024H126.494V891.482h54.212v60.236H939.67V289.129h-30.118v-72.282h84.33zM421.647 530.07h-120.47v-66.26h120.47v-72.28h-120.47v-72.282H409.6l-96.376-120.47 36.14-48.189 102.4 126.494 102.4-126.494 36.142 48.188-96.377 120.471h108.424v66.259h-120.47v72.282h120.47v66.26h-120.47v150.587h-60.236V530.071z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\nimport cs from 'classnames';\n\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n  name?: string\n} & React.SVGAttributes<SVGElement>\n\nconst Icon = (props: Props) => {\n  const {name, children, className, ...rest} = props\n  return (\n    <svg className={cs('icon', className)} {...rest}>\n      {props.name && <use xlinkHref={'#' + props.name}/>}\n    </svg>\n  );\n};\n\nexport default Icon;","import styled from \"styled-components\";\nimport { NavLink } from \"react-router-dom\";\nimport React from \"react\";\nimport Icon from \"./Icon\";\n\nconst NavWrapper = styled.nav`\n  background: white;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  > ul {\n    display: flex;\n    > li {\n      width: 33.3333%;\n      text-align: center;\n      > a {\n        display: flex;\n        flex-direction: column;\n        padding: 4px 0;\n        justify-content: center;\n        align-items: center;\n        .icon {\n          width: 24px;\n          height: 24px;\n        }\n        &.selected {\n          color: rgb(254, 218, 70);\n          .icon {\n            fill: rgb(254, 218, 70);\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\n            <Icon name=\"tag\" />\n            标签页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name=\"money\" />\n            记账页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name=\"chart\" />\n            统计页\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\n\nexport default Nav;\n","import Nav from \"./Nav\";\nimport React, { useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useEffect } from \"react\";\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n  /* &::-webkit-scrollbar {\n    display: none;\n  } */\n`;\ntype Props = {\n  className?: string;\n  scrollTop?: number;\n};\nconst Layout: React.FC<Props> = (props) => {\n  const mainRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    setTimeout(() => {\n      if (!mainRef.current) {\n        return;\n      }\n      console.log(props.scrollTop);\n      mainRef.current.scrollTop = props.scrollTop!;\n      console.log(mainRef.current.scrollTop);\n    }, 0);\n  }, [props.scrollTop]);\n  return (\n    <Wrapper>\n      <Main ref={mainRef} className={props.className} data-x={\"frank\"}>\n        {props.children}\n      </Main>\n      <Nav />\n    </Wrapper>\n  );\n};\n\nLayout.defaultProps = {\n  scrollTop: 0,\n};\n\nexport default Layout;\n","let id = parseInt(window.localStorage.getItem(\"idMax\") || \"0\");\r\nconst createId = (): number => {\r\n  id += 1;\r\n  window.localStorage.setItem(\"idMax\", JSON.stringify(id));\r\n  return id;\r\n};\r\nexport { createId };\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport const useUpdate = (fn: () => void, dependency: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn, dependency]); // 不可变数据\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { createId } from \"lib/createId\";\r\nimport { useUpdate } from \"./useUpdate\";\r\n\r\nconst useTags = () => {\r\n  // 封装一个自定义 Hook\r\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem(\"tags\") || \"[]\");\r\n    if (localTags.length === 0) {\r\n      localTags = [\r\n        { id: createId(), name: \"衣\" },\r\n        { id: createId(), name: \"食\" },\r\n        { id: createId(), name: \"住\" },\r\n        { id: createId(), name: \"行\" },\r\n      ];\r\n    }\r\n    setTags(localTags);\r\n  }, []); // 组件挂载时执行\r\n  useUpdate(() => {\r\n    window.localStorage.setItem(\"tags\", JSON.stringify(tags));\r\n  }, tags);\r\n  const findTag = (id: number) => tags.filter((tag) => tag.id === id)[0];\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1;\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  const updateTag = (id: number, { name }: { name: string }) => {\r\n    setTags(tags.map((tag) => (tag.id === id ? { id, name: name } : tag)));\r\n  };\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter((tag) => tag.id !== id));\r\n  };\r\n  const addTag = () => {\r\n    console.log(\"hi\");\r\n    const tagName = window.prompt(\"新标签的名称为\");\r\n    if (tagName !== null && tagName !== \"\") {\r\n      setTags([...tags, { id: createId(), name: tagName }]);\r\n    }\r\n  };\r\n  const getName = (id: number) => {\r\n    const tag = tags.filter((t) => t.id === id)[0];\r\n    return tag ? tag.name : \"\";\r\n  };\r\n  return {\r\n    tags,\r\n    getName,\r\n    addTag,\r\n    setTags,\r\n    findTag,\r\n    updateTag,\r\n    findTagIndex,\r\n    deleteTag,\r\n  };\r\n};\r\n\r\nexport { useTags };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useTags } from \"../../hooks/useTags\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #ffffff;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n\r\n  > ol {\r\n    margin: 0 -12px;\r\n    > li {\r\n      background: rgb(245, 245, 245);\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 16px;\r\n      margin: 8px 12px;\r\n      &.selected {\r\n        background: rgb(254, 218, 70);\r\n      }\r\n    }\r\n  }\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    padding: 2 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\ntype Props = {\r\n  value: number[];\r\n  onChange: (selected: number[]) => void;\r\n};\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const { tags, addTag } = useTags();\r\n  const selectedTagIds = props.value;\r\n\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if (index >= 0) {\r\n      // 如果 tag 已被选中，就复制所有没有被选中的 tag， 作为新的 selectedTag\r\n      props.onChange(selectedTagIds.filter((t) => t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId]);\r\n    }\r\n  };\r\n  const getClass = (tagId: number) =>\r\n    selectedTagIds.indexOf(tagId) >= 0 ? \"selected\" : \"\";\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map((tag) => (\r\n          <li\r\n            key={tag.id}\r\n            onClick={() => {\r\n              onToggleTag(tag.id);\r\n            }}\r\n            className={getClass(tag.id)}\r\n          >\r\n            {tag.name}\r\n          </li>\r\n        ))}\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport { TagsSection };\r\n","import styled from \"styled-components\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  > ul {\r\n    display: flex;\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected::after {\r\n        content: \"\";\r\n        display: block;\r\n        height: 3px;\r\n        background: #333;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: \"-\" | \"+\";\r\n  onChange: (value: \"-\" | \"+\") => void;\r\n};\r\n\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = { \"-\": \"支出\", \"+\": \"收入\" };\r\n  const [categoryList] = useState<(\"+\" | \"-\")[]>([\"-\", \"+\"]);\r\n  const category = props.value;\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map((c) => (\r\n          <li\r\n            key={c}\r\n            className={category === c ? \"selected\" : \"\"}\r\n            onClick={() => {\r\n              props.onChange(c);\r\n            }}\r\n          >\r\n            {categoryMap[c]}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport { CategorySection };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  > span {\r\n    margin-right: 16px;\r\n    white-space: nowrap;\r\n  }\r\n  > input {\r\n    display: block;\r\n    width: 100%;\r\n    height: 44px;\r\n    background: none;\r\n    border: none;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\nconst Input: React.FC<Props> = (props) => {\r\n  const { label, children, ...rest } = props;\r\n  return (\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input {...rest} />\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport { Input };\r\n","import React, { ChangeEventHandler } from \"react\";\nimport styled from \"styled-components\";\nimport { Input } from \"../../components/Input\";\n\nconst Wrapper = styled.section`\n  background: rgb(245, 245, 245);\n  padding: 14px 16px;\n  font-size: 14px;\n`;\n\ntype Props = {\n  value: string;\n  onChange: (value: string) => void;\n};\n\nconst NoteSection: React.FC<Props> = (props) => {\n  const note = props.value;\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    props.onChange(e.target.value);\n  };\n  return (\n    <Wrapper>\n      <Input\n        label=\"备注\"\n        type=\"text\"\n        value={note}\n        onChange={onChange}\n        placeholder=\"请填写备注\"\n      />\n    </Wrapper>\n  );\n};\n\nexport { NoteSection };\n","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  > .output {\r\n    background: rgb(240, 244, 247);\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25),\r\n      inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\r\n  }\r\n  > .pad {\r\n    > button {\r\n      font-size: 18px;\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: 0.5px solid rgb(225, 229, 228);\r\n\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n      &:nth-child(1),\r\n      &:nth-child(2),\r\n      &:nth-child(3),\r\n      &:nth-child(4),\r\n      &:nth-child(5),\r\n      &:nth-child(6),\r\n      &:nth-child(7),\r\n      &:nth-child(8),\r\n      &:nth-child(9),\r\n      &:nth-child(10),\r\n      &:nth-child(11),\r\n      &:nth-child(12),\r\n      &:nth-child(13),\r\n      &:nth-child(14) {\r\n        background: rgb(240, 244, 247);\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport { Wrapper };\r\n","import React from \"react\";\r\nimport { Wrapper } from \"./NumberPadSection/Wrapper\";\r\nimport { generateOutput } from \"./NumberPadSection/generateOutput\";\r\nimport { useState } from \"react\";\r\n\r\ntype Props = {\r\n  value: number;\r\n  onChange: (value: number) => void;\r\n  onOk?: () => void;\r\n};\r\n\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n  // const output = props.value.toString();\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  const setOutput = (output: string) => {\r\n    let newOutput: string;\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else if (output.length === 0) {\r\n      newOutput = \"0\";\r\n    } else {\r\n      newOutput = output;\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput));\r\n  };\r\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text === null) {\r\n      return;\r\n    }\r\n    if (text === \"OK\") {\r\n      if (props.onOk) {\r\n        props.onOk();\r\n      }\r\n      return;\r\n    }\r\n    if (\"0123456789.\".split(\"\").concat([\"删除\", \"清空\"]).indexOf(text) >= 0) {\r\n      setOutput(generateOutput(text, output));\r\n    }\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"output\">{output}</div>\r\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className=\"ok\">OK</button>\r\n        <button className=\"zero\">0</button>\r\n        <button className=\"dot\">.</button>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport { NumberPadSection };\r\n","const generateOutput = (text: string, output = \"0\") => {\r\n  switch (text) {\r\n    case \"0\":\r\n    case \"1\":\r\n    case \"2\":\r\n    case \"3\":\r\n    case \"4\":\r\n    case \"5\":\r\n    case \"6\":\r\n    case \"7\":\r\n    case \"8\":\r\n    case \"9\":\r\n      if (output === \"0\") {\r\n        return text;\r\n      } else {\r\n        return output + text;\r\n      }\r\n    case \".\":\r\n      if (output.indexOf(\".\") >= 0) {\r\n        return output;\r\n      }\r\n      return output + \".\";\r\n    case \"删除\":\r\n      if (output.length === 1) {\r\n        return \"\";\r\n      } else {\r\n        return output.slice(0, -1) || \"\";\r\n      }\r\n    case \"清空\":\r\n      return \"\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\nexport { generateOutput };\r\n","import { useEffect, useState } from \"react\";\r\nimport { useUpdate } from \"./useUpdate\";\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[];\r\n  note: string;\r\n  category: \"+\" | \"-\";\r\n  amount: number;\r\n  createdAt: string; // ISO 8601\r\n};\r\ntype newRecordItem = Omit<RecordItem, \"createdAt\">;\r\n\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem(\"records\") || \"[]\"));\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem(\"records\", JSON.stringify(records));\r\n  }, records);\r\n\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      alert(\"请输入金额\");\r\n      return false;\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert(\"请选择标签\");\r\n      return false;\r\n    }\r\n    const record = { ...newRecord, createdAt: new Date().toISOString() };\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n\r\n  return { records, addRecord };\r\n};\r\n","import Layout from \"../components/Layout\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { TagsSection } from \"./Money/TagsSection\";\nimport { CategorySection } from \"./Money/CategorySection\";\nimport { NoteSection } from \"./Money/NoteSection\";\nimport { NumberPadSection } from \"./Money/NumberPadSection\";\nimport { useRecords } from \"../hooks/useRecords\";\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Category = \"-\" | \"+\";\n\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: \"\",\n  category: \"-\" as Category,\n  amount: 0,\n};\n\nconst CategoryWrapper = styled.div`\n  background: rgb(254, 218, 70);\n`;\n\nfunction Money() {\n  const [selected, setSelected] = useState(defaultFormData);\n  const { addRecord } = useRecords();\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({ ...selected, ...obj });\n  };\n  const submit = () => {\n    if (addRecord(selected)) {\n      alert(\"保存成功\");\n      setSelected(defaultFormData);\n    }\n  };\n  return (\n    <MyLayout scrollTop={9999}>\n      <CategoryWrapper>\n        <CategorySection\n          value={selected.category}\n          onChange={(category) => onChange({ category })}\n        />\n      </CategoryWrapper>\n      <TagsSection\n        value={selected.tagIds}\n        onChange={(tagIds) => onChange({ tagIds })}\n      />\n      <NoteSection\n        value={selected.note}\n        onChange={(note) => onChange({ note })}\n      />\n      <NumberPadSection\n        value={selected.amount}\n        onChange={(amount) => onChange({ amount })}\n        onOk={submit}\n      />\n    </MyLayout>\n  );\n}\n\nexport default Money;\n","import Layout from \"../components/Layout\";\nimport React, { ReactNode, useState } from \"react\";\nimport { CategorySection } from \"./Money/CategorySection\";\nimport styled from \"styled-components\";\nimport { RecordItem, useRecords } from \"../hooks/useRecords\";\nimport { useTags } from \"../hooks/useTags\";\nimport day from \"dayjs\";\n\nconst CategoryWrapper = styled.div`\n  background: rgb(254, 218, 70);\n`;\n\nconst Item = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background: white;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n`;\n\nconst Header = styled.h3`\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n`;\n\nfunction Statistics() {\n  const [category, setCategory] = useState<\"-\" | \"+\">(\"-\");\n  const { records } = useRecords();\n  const { getName } = useTags();\n  const hash: { [K: string]: RecordItem[] } = {}; // {'2020-05-11': [item, item], '2020-05-10': [item, item], '2020-05-12': [item, item, item, item]}\n  const selectedRecords = records.filter((r) => r.category === category);\n\n  selectedRecords.forEach((r) => {\n    const key = day(r.createdAt).format(\"YYYY年MM月DD日\");\n    if (!(key in hash)) {\n      hash[key] = [];\n    }\n    hash[key].push(r);\n  });\n\n  const array = Object.entries(hash).sort((a, b) => {\n    if (a[0] === b[0]) return 0;\n    if (a[0] > b[0]) return -1;\n    if (a[0] < b[0]) return 1;\n    return 0;\n  });\n\n  return (\n    <Layout>\n      <CategoryWrapper>\n        <CategorySection\n          value={category}\n          onChange={(value) => setCategory(value)}\n        />\n      </CategoryWrapper>\n      {array.map(([date, records]) => (\n        <div>\n          <Header>{date}</Header>\n          <div>\n            {records.map((r) => {\n              return (\n                <Item>\n                  <div className=\"tags oneLine\">\n                    {r.tagIds\n                      .map((tagId) => <span key={tagId}>{getName(tagId)}</span>)\n                      .reduce(\n                        (result, span, index, array) =>\n                          result.concat(\n                            index < array.length - 1 ? [span, \"，\"] : [span]\n                          ),\n                        [] as ReactNode[]\n                      )}\n                  </div>\n                  {r.note && <div className=\"note\">{r.note}</div>}\n                  <div className=\"amount\">￥{r.amount}</div>\n                </Item>\n              );\n            })}\n          </div>\n        </div>\n      ))}\n    </Layout>\n  );\n}\n\nexport default Statistics;\n","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: rgb(254, 218, 70);\r\n  border-radius: 4px;\r\n  color: black;\r\n`;\r\n\r\nexport { Button };\r\n","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport { Center };\r\n","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\nexport { Space };\r\n","import Layout from \"../components/Layout\";\nimport React from \"react\";\nimport { useTags } from \"../hooks/useTags\";\nimport styled from \"styled-components\";\nimport Icon from \"../components/Icon\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from \"../components/Button\";\nimport { Center } from \"../components/Center\";\nimport { Space } from \"../components/Space\";\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  background: white;\n  > li {\n    border-bottom: 1px solid #d5d5d9;\n    line-height: 20px;\n    margin-left: 16px;\n    > a {\n      padding: 12px 16px 12px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n`;\n\nfunction Tags() {\n  const { tags, addTag } = useTags();\n  return (\n    <Layout>\n      <ol>\n        <TagList>\n          {tags.map((tag) => (\n            <li key={tag.id}>\n              <Link to={\"/tags/\" + tag.id}>\n                <span className=\"oneLine\">{tag.name}</span>\n                <Icon name=\"right\" />\n              </Link>\n            </li>\n          ))}\n        </TagList>\n        <Center>\n          <Space />\n          <Space />\n          <Space />\n          <Button onClick={addTag}>新增标签</Button>\n        </Center>\n      </ol>\n    </Layout>\n  );\n}\n\nexport default Tags;\n","import React from 'react';\n\nfunction NoMatch() {\n  return (\n    <div>页面不存在，请确认后重新输入！</div>\n  );\n}\n\nexport default NoMatch;\n","import React from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useTags } from \"../hooks/useTags\";\r\nimport Layout from \"../components/Layout\";\r\nimport Icon from \"../components/Icon\";\r\nimport { Button } from \"../components/Button\";\r\nimport styled from \"styled-components\";\r\nimport { Input } from \"../components/Input\";\r\nimport { Center } from \"../components/Center\";\r\nimport { Space } from \"../components/Space\";\r\n\r\ntype Params = {\r\n  id: string;\r\n};\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`;\r\nconst Tag: React.FC = () => {\r\n  const { findTag, updateTag, deleteTag } = useTags();\r\n  let { id: idString } = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent = (tag: { id: number; name: string }) => (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input\r\n          label=\"标签名\"\r\n          type=\"text\"\r\n          placeholder=\"标签名\"\r\n          value={tag.name}\r\n          onChange={(e) => {\r\n            updateTag(tag.id, { name: e.target.value });\r\n          }}\r\n        />\r\n      </InputWrapper>\r\n      <Center>\r\n        <Space />\r\n        <Space />\r\n        <Space />\r\n        <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n      </Center>\r\n    </div>\r\n  );\r\n  const history = useHistory();\r\n  const onClickBack = () => {\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name=\"left\" onClick={onClickBack} />\r\n        <span>编辑标签</span>\r\n        <Icon />\r\n      </Topbar>\r\n\r\n      {tag ? tagContent(tag) : <Center>tag 不存在</Center>}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport { Tag };\r\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Money from \"./views/Money\";\nimport Statistics from \"./views/Statistics\";\nimport Tags from \"./views/Tags\";\nimport NoMatch from \"./views/NoMatch\";\nimport styled from \"styled-components\";\nimport { Tag } from \"./views/Tag\";\n\nconst AppWrapper = styled.div`\n  color: #333;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\">\n            <Tags />\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <Tag />\n          </Route>\n          <Route exact path=\"/money\">\n            <Money />\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics />\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\" />\n          <Route path=\"*\">\n            <NoMatch />\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (document.documentElement.clientWidth > 500) {\n  window.alert(\"手机打开本页面，浏览效果更佳哦！\");\n}\n"],"sourceRoot":""}